<?php

function getMorseLibrary(): array
{
    return [" " => "/", "a" => ".-", "b" => "-...", "c" => "-.-.", "d" => "-..", "e" => ".", "f" => "..-.", "g" => "--.", "h" => "....", "i" => "..", "j" => ".---", "k" => "-.-", "l" => ".-..", "m" => "--", "n" => "-.", "o" => "---", "p" => ".--.", "q" => "--.-", "r" => ".-.", "s" => "...", "t" => "-", "u" => "..-", "v" => "...-", "w" => ".--", "x" => "-..-", "y" => "-.--", "z" => "--.. "];
}

function cleanBinary(string $binary): string
{
    for ($i=0; $i<strlen($binary); $i++){
        if ($binary[$i] !== "0" && $binary[$i] !== "1" && $binary[$i] !== " ") {
            $binary = str_replace($binary[$i], "", $binary);
        }
    }
    return $binary;
}

function binaryToMorse(string $binary): string
{
    $binArray = explode(" ", $binary);
    $morse = "";
    foreach ($binArray as $item) {
        $morse .= chr(bindec($item));
    }
    return $morse;
}

function morseToText(string $morse): string
{
    $text = "";
    foreach (explode(" ", $morse) as $value) {
        $text .= array_search($value, getMorseLibrary());
    }
    return $text;
}

function strRot($s, $n = 13) {
    static $letters = 'AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz';
    $rep = substr($letters, $n * 2) . substr($letters, 0, $n * 2);
    return strtr($s, $letters, $rep);
}

$binary = "00101101 00101110 00101101 00101101 00100000 00101110 00101110 00100000 00101101 00101110 00101110 00101110 00100000 00101110 00101101 00101101 00101110 00100000 00101110 00101101 00101101 00101110 00100000 00101101 00101110 00101110 00101110 00100000 00101101 00101110 00101101 00100000 00101101 00101101 00101110 00101101 00100000 00101110 00101101 00101101 00101101 00100000 00101110 00101101 00101110 00101110 00100000 00101101 00101110 00101101 00100000 00101101 00101101 00101110 00101110 00100000 00101110 00101101 00101110 00101110 00100000 00101101 00101110 00101110 00101110 00100000 00101110 00101101 00101110 00100000 00101101 00101101 00101101 00100000 00101110 00101101 00100000 00101110 00101101 00101110 00100000 00101101 00101110 00101101 00100000 00101101 00101110 00101110 00101110 00100000 00101110 00101110 00100000 00101101 00101110 00101110 00101101 00100000 00101101 00101110 00101101 00100000 00101101 00101110 00101110 00100000 00101110 00101101 00101110 00100000 00101101 00101110 00101110 00101110 00100000 00101110 00101101 00101110 00100000 00101101 00101101 00101101 00100000 00101110 00101101 00101101 00101101 00100000 00101110 00101101 00101110 00101110 00100000 00101101 00101110 00101101 00100000 00101110 00101101 00101110 00101110 00100000 00101101 00101101 00101110 00101101 00100000 00101110 00101101 00101110 00101110 00100000 00101101 00101110 00101101 00100000 00101101 00101110 00101110 00101110 00100000 00101110 00101101 00101110 00101101 00101110 00101101 00100000";
$cleanBinary = cleanBinary($binary);
$morse = binaryToMorse($cleanBinary);
$text = morseToText($morse);
for ($i=0; $i<26; $i++){
    echo strRot($text, $i);
    echo "\n";
}
echo "\n";
echo strRot($text, 3);